<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>My Space</title>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Serif+Display&display=swap" rel="stylesheet">

<style>
/* ================= THEMES ================= */
:root{
  --bg:#f8fafc;
  --card:rgba(255,255,255,.75);
  --text:#0f172a;
  --muted:#64748b;
  --accent:#6366f1;
  --accent-soft:#c7d2fe;
  --danger:#ef4444;
}

[data-theme="dark"]{
  --bg:#020617;
  --card:rgba(15,23,42,.7);
  --text:#e5e7eb;
  --muted:#94a3b8;
  --accent:#818cf8;
  --accent-soft:#1e293b;
}

[data-theme="aurora"]{
  --bg:#f0fdf4;
  --card:rgba(255,255,255,.7);
  --text:#052e16;
  --muted:#166534;
  --accent:#22c55e;
  --accent-soft:#bbf7d0;
}

/* ================= BASE ================= */
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Inter,system-ui;
  background:var(--bg);
  color:var(--text);
  min-height:100vh;
  overflow-x:hidden;
}

/* Ambient blobs */
body::before, body::after{
  content:"";
  position:fixed;
  width:420px;
  height:420px;
  border-radius:50%;
  filter:blur(120px);
  opacity:.35;
  z-index:-1;
}
body::before{
  background:var(--accent);
  top:-120px;
  left:-120px;
}
body::after{
  background:var(--accent-soft);
  bottom:-120px;
  right:-120px;
}

/* ================= APP ================= */
.app{
  max-width:900px;
  margin:auto;
  padding:28px;
}

/* ================= HEADER ================= */
header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:16px;
  margin-bottom:28px;
}

.title h1{
  font-family:"DM Serif Display", serif;
  font-size:2.4rem;
  margin:0;
  letter-spacing:.5px;
}
.title p{
  margin:6px 0 0;
  color:var(--muted);
}

/* Header actions */
.header-actions{
  display:flex;
  gap:10px;
  align-items:center;
}

select,button{
  border-radius:999px;
  padding:10px 16px;
  border:none;
  font-weight:600;
  cursor:pointer;
  transition:.25s ease;
}

select{
  background:var(--card);
  color:var(--text);
  backdrop-filter:blur(12px);
}

button.exit{
  background:transparent;
  color:var(--muted);
}
button.exit:hover{
  color:var(--danger);
  transform:translateX(2px);
}

/* ================= CARD ================= */
.card{
  background:var(--card);
  backdrop-filter:blur(16px);
  border-radius:20px;
  padding:18px;
  margin-bottom:20px;
  box-shadow:0 20px 50px rgba(0,0,0,.15);
  animation:fadeUp .6s ease;
}

/* ================= COMPOSER ================= */
textarea{
  width:100%;
  min-height:120px;
  padding:14px;
  font-size:1rem;
  border-radius:14px;
  border:none;
  outline:none;
  background:rgba(255,255,255,.85);
  transition:.25s ease;
}
[data-theme="dark"] textarea{
  background:#020617;
  color:#e5e7eb;
}

textarea:focus{
  box-shadow:0 0 0 4px rgba(99,102,241,.25);
}

.controls{
  display:flex;
  gap:12px;
  margin-top:14px;
  flex-wrap:wrap;
}

button.primary{
  background:linear-gradient(135deg,var(--accent),#a5b4fc);
  color:white;
}
button.primary:hover{
  transform:translateY(-1px);
  box-shadow:0 12px 30px rgba(99,102,241,.35);
}

/* ================= FILTERS ================= */
.filters{
  display:flex;
  gap:12px;
  flex-wrap:wrap;
}

/* ================= MESSAGES ================= */
.message{
  background:rgba(255,255,255,.9);
  border-radius:18px;
  padding:14px;
  margin-bottom:14px;
  transition:.3s ease;
  animation:fadeUp .4s ease;
}
[data-theme="dark"] .message{
  background:#020617;
}

.message:hover{
  transform:translateY(-3px);
  box-shadow:0 18px 40px rgba(0,0,0,.18);
}

.message.pinned{
  border-left:5px solid var(--accent);
}

.meta{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-top:10px;
  font-size:.85rem;
  color:var(--muted);
}

.actions{
  display:flex;
  gap:8px;
}
.actions button{
  padding:6px 10px;
  font-size:.8rem;
}

/* ================= ANIMATIONS ================= */
@keyframes fadeUp{
  from{opacity:0; transform:translateY(12px)}
  to{opacity:1; transform:translateY(0)}
}
</style>
</head>

<body>
<div class="app">

<header>
  <div class="title">
    <h1>My Space</h1>
    <p>Your private space. Chats stay on your device.</p>

  </div>

  <div class="header-actions">
    <select id="theme">
      <option value="light">â˜€ Light</option>
      <option value="dark">ðŸŒ™ Dark</option>
      <option value="aurora">ðŸŒ¿ Aurora</option>
    </select>

    <button class="exit" onclick="exitApp()">Select Calme For Help â†’</button>
  </div>
</header>

<div class="card">
  <textarea id="text" placeholder="Let your thoughts land hereâ€¦"></textarea>

  <div class="controls">
    <select id="category">
      <option>General</option>
      <option>Thoughts</option>
      <option>Goals</option>
      <option>Mental Health</option>
      <option>Ideas</option>
    </select>

    <button class="primary" onclick="addMessage()">Save</button>
  </div>
</div>

<div class="card filters">
  <select id="filterCategory" onchange="render()">
    <option value="all">All categories</option>
    <option>General</option>
    <option>Thoughts</option>
    <option>Goals</option>
    <option>Mental Health</option>
    <option>Ideas</option>
  </select>

  <button onclick="togglePinned()">ðŸ“Œ Pinned</button>
</div>

<div id="list"></div>

</div>

<script>
const KEY="my_space_modern";
let pinnedOnly=false;

const load=()=>JSON.parse(localStorage.getItem(KEY)||"[]");
const save=d=>localStorage.setItem(KEY,JSON.stringify(d));

/* Messages */
function addMessage(){
  const text=document.getElementById("text").value.trim();
  if(!text) return;
  const cat=document.getElementById("category").value;

  const msgs=load();
  msgs.push({
    id:Date.now(),
    text,cat,
    pinned:false,
    ts:new Date().toLocaleString()
  });
  save(msgs);
  document.getElementById("text").value="";
  render();
}

function togglePin(id){
  const m=load();
  const msg=m.find(x=>x.id===id);
  msg.pinned=!msg.pinned;
  save(m); render();
}

function del(id){
  save(load().filter(m=>m.id!==id));
  render();
}

function togglePinned(){
  pinnedOnly=!pinnedOnly;
  render();
}

function render(){
  const list=document.getElementById("list");
  list.innerHTML="";
  const filter=document.getElementById("filterCategory").value;

  let msgs=load();
  if(filter!=="all") msgs=msgs.filter(m=>m.cat===filter);
  if(pinnedOnly) msgs=msgs.filter(m=>m.pinned);

  msgs.sort((a,b)=>b.pinned-a.pinned||b.id-a.id);

  msgs.forEach(m=>{
    const d=document.createElement("div");
    d.className="message"+(m.pinned?" pinned":"");
    d.innerHTML=`
      <div>${m.text}</div>
      <div class="meta">
        <span>${m.cat} â€¢ ${m.ts}</span>
        <div class="actions">
          <button onclick="togglePin(${m.id})">ðŸ“Œ</button>
          <button onclick="del(${m.id})">ðŸ—‘</button>
        </div>
      </div>
    `;
    list.appendChild(d);
  });
}
render();

/* Theme */
const themeSelect=document.getElementById("theme");
const savedTheme=localStorage.getItem("theme")||"light";
document.documentElement.setAttribute("data-theme",savedTheme);
themeSelect.value=savedTheme;

themeSelect.onchange=()=>{
  document.documentElement.setAttribute("data-theme",themeSelect.value);
  localStorage.setItem("theme",themeSelect.value);
};

/* Exit */
function exitApp(){
  window.location.href="https://neelkamal-hub.github.io/Calme/";
}
</script>
</body>
</html>

